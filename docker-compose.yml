services:
  backend:
    build:
      context: .
      dockerfile: apps/backend/Dockerfile
    environment:
      NODE_ENV: production
      PORT: 3333
      APP_NAME: controle-app-backend
      TOKEN_SECRET: change-me
      TOKEN_TTL_SECONDS: 28800
      SECRETS_ENCRYPTION_KEY_HEX: 0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
    ports:
      - "3333:3333"

  frontend:
    build:
      context: .
      dockerfile: apps/frontend/Dockerfile
    ports:
      - "8080:80"
    depends_on:
      - backend
